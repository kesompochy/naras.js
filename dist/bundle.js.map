{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://NARAS/webpack/universalModuleDefinition","webpack://NARAS/./src/app/application.ts","webpack://NARAS/./src/app/master.ts","webpack://NARAS/./src/audio/audio.ts","webpack://NARAS/./src/index.ts","webpack://NARAS/./src/loader/loader.ts","webpack://NARAS/./src/mixer/effects/delay.ts","webpack://NARAS/./src/mixer/effects/pan.ts","webpack://NARAS/./src/mixer/mixer.ts","webpack://NARAS/./src/processer/processer.ts","webpack://NARAS/./src/sound/sound.ts","webpack://NARAS/webpack/bootstrap","webpack://NARAS/webpack/before-startup","webpack://NARAS/webpack/startup","webpack://NARAS/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"NARAS\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NARAS\"] = factory();\n\telse\n\t\troot[\"NARAS\"] = factory();\n})(self, function() {\nreturn ","import Loader from '../loader/loader';\r\nimport Master from './master';\r\nimport {MasterMixer} from '../mixer/mixer';\r\n\r\nexport default class App {\r\n    loader: any = Loader;\r\n    master: MasterMixer = new MasterMixer();\r\n    private _unlockEvents: string[] = ['click', 'scroll', 'touchstart'];\r\n    constructor(){\r\n        for(let i=0, len=this._unlockEvents.length;i<len;i++){\r\n            document.addEventListener(this._unlockEvents[i], this._initContext.bind(this), {once: true});\r\n        }\r\n        this._initContext();\r\n    }\r\n    private _initContext(): void{\r\n        if(Master.cxt.state === 'suspended'){\r\n            Master.cxt.resume();\r\n        }\r\n        for(let i=0, len=this._unlockEvents.length;i<len;i++){\r\n            document.removeEventListener(this._unlockEvents[i], this._initContext.bind(this));\r\n        }\r\n    }\r\n    addResource(id: string, src: string): Master{\r\n        this.loader.add(id, src);\r\n        return this;\r\n    }\r\n    loadAll(): void{\r\n        this.loader.loadAll();\r\n    }\r\n    loadThen(func: Function): void{\r\n        this.loader.loadThen(func);\r\n    }\r\n}","\r\n\r\ndeclare global {\r\n    interface Window {\r\n        webkitAudioContext: any\r\n    }\r\n}\r\n\r\nconst AudioContext = window.AudioContext || window.webkitAudioContext;\r\n\r\nexport default class Master{\r\n    static cxt: AudioContext = new AudioContext();\r\n}","export default class Audio {\r\n    readonly buffer: AudioBuffer;\r\n    readonly duration: number;\r\n    constructor(buf: AudioBuffer){\r\n        this.buffer = buf;\r\n        this.duration = buf.duration;\r\n    }\r\n}","\r\nimport Sound from './sound/sound';\r\nimport App from './app/application';\r\nimport Mixer from './mixer/mixer';\r\nimport Processer from './processer/processer';\r\n\r\nexport { App, Mixer, Sound, Processer };","import Master from '../app/master';\r\n\r\nimport Audio from '../audio/audio';\r\n\r\nexport default class Loader{\r\n    private static _resources: Map<string, Audio> = new Map();\r\n    private static _tasks: Array<Promise<ArrayBuffer>> = [];\r\n    private static _loadThen: Function = function(){};\r\n    private static _cxt: AudioContext = Master.cxt;\r\n\r\n\r\n    static add(id: string, src: string): Loader{\r\n        const promise = this._promiseLoadingSound(id, src);\r\n        this._tasks.push(promise);\r\n        return this;\r\n    }\r\n    static loadAll(): void{\r\n        Promise.all(this._tasks)\r\n            .then(()=>{this._loadThen();});\r\n    }\r\n    static loadThen(func: Function){\r\n        this._loadThen = func;\r\n    }\r\n    private static _promiseLoadingSound(id: string, src: string): Promise<any>{\r\n        const promise = new Promise((resolve)=>{\r\n            fetch(src).then((res)=>{\r\n                return res.arrayBuffer();\r\n            }).then((data)=>{\r\n                return this._cxt.decodeAudioData(data);\r\n            }).then((buf)=>{\r\n                const audio = new Audio(buf);\r\n                this._resources.set(id, audio);\r\n                resolve(buf);\r\n            })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n    static get(id: string): Audio | undefined{\r\n        return this._resources.get(id);\r\n    }\r\n}","import Master from '../../app/master';\r\n\r\ninterface IDelayParams {\r\n    interval: number;\r\n    attenuation: number;\r\n}\r\n\r\nconst defaultDelayParams: IDelayParams = {\r\n    interval: 1,\r\n    attenuation: 0.5,\r\n};\r\n\r\nexport {IDelayParams, defaultDelayParams};\r\n\r\nconst MAX_DELAY_TIME = 10;\r\n\r\nexport default class Delay {\r\n    private _interval: number = defaultDelayParams.interval;\r\n    private _attenuation: number = defaultDelayParams.attenuation;\r\n    private _delayNode: DelayNode = Master.cxt.createDelay(MAX_DELAY_TIME);\r\n    private _attenuationNode: GainNode = Master.cxt.createGain();\r\n    private _delaySwitch: GainNode = Master.cxt.createGain();\r\n    private _realScale: number = 1;\r\n\r\n    constructor(input: AudioNode, params?: IDelayParams){\r\n        if(!params){\r\n            params = defaultDelayParams;\r\n        } else {\r\n            params.interval = params.interval || defaultDelayParams.interval;\r\n            params.attenuation = params.attenuation || defaultDelayParams.attenuation;\r\n        }\r\n        this.interval = params.interval;\r\n        this.attenuation = params.attenuation;\r\n\r\n        input.connect(this._delayNode);\r\n        this._delayNode.connect(this._attenuationNode);\r\n        this._attenuationNode.connect(this._delayNode);\r\n        this._delayNode.connect(this._delaySwitch);\r\n    }\r\n\r\n    set interval(value: number){\r\n        value = Math.min(Math.max(value, 0), MAX_DELAY_TIME);\r\n        this._interval = value;\r\n        this._delayNode.delayTime.value = value * this._realScale;\r\n    }\r\n    get interval(): number{\r\n        return this._interval;\r\n    }\r\n    set attenuation(value: number){\r\n        this._attenuation = value;\r\n        this._attenuationNode.gain.value = value;\r\n    }\r\n    get attenuation(): number{\r\n        return this._attenuation;\r\n    }\r\n    set(interval: number, attenuation: number){\r\n        this.interval = interval;\r\n        this.attenuation = attenuation;\r\n    }\r\n\r\n    set realScale(value: number){\r\n        this._realScale = value;\r\n        this._delayNode.delayTime.value = this._interval * value;\r\n    }\r\n\r\n    connect(output: AudioNode){\r\n        this._delaySwitch.connect(output);\r\n    }\r\n    disconnect(){\r\n        this._delaySwitch.disconnect(0);\r\n    }\r\n}","import Master from '../../app/master';\r\n\r\ninterface IPannerPosition{\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n}\r\n\r\nconst defaultPannerPosition: IPannerPosition = {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0\r\n}\r\n\r\nexport default class Panner {\r\n    private _pannerNode: PannerNode = Master.cxt.createPanner();\r\n    private _position: IPannerPosition = defaultPannerPosition;\r\n    constructor(x?: number, y?: number, z?: number){\r\n        if(x) this.x = x;\r\n        if(y) this.y = y;\r\n        if(z) this.z = z;\r\n    }\r\n    set x(value: number){\r\n        this._position.x = value;\r\n        this._pannerNode.positionX.value = value;\r\n    }\r\n    get x(): number{\r\n        return this._position.x;\r\n    }\r\n    set y(value: number){\r\n        this._pannerNode.positionY.value = value;\r\n        this._position.y = value;\r\n    }\r\n    get y(): number{\r\n        return this._position.y;\r\n    }\r\n    set z(value: number){\r\n        this._pannerNode.positionZ.value = value;\r\n        this._position.z = value;\r\n    }\r\n    get z(): number{\r\n        return this._position.z;\r\n    }\r\n    set(x: number, y: number, z: number): Panner{\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        return  this;\r\n    }\r\n    get node(): PannerNode{\r\n        return this._pannerNode;\r\n    }\r\n    connect(node: AudioNode){\r\n        this._pannerNode.connect(node);\r\n    }\r\n}","import Master from '../app/master';\r\n\r\nimport Delay from './effects/delay';\r\nimport Panner from './effects/pan';\r\n\r\ninterface ActionFuncs{\r\n    play: CallableFunction;\r\n    stop: CallableFunction;\r\n    restart: CallableFunction;\r\n    pause: CallableFunction;\r\n}\r\n\r\nabstract class AbstractMixer {\r\n    protected abstract playFunc: Function;\r\n    protected abstract stopFunc: Function;\r\n    protected abstract pauseFunc: Function;\r\n    protected abstract restartFunc: Function;\r\n    protected abstract actionFuncs: ActionFuncs;\r\n}\r\n\r\nimport { IDelayParams, defaultDelayParams } from './effects/delay';\r\n\r\nexport interface IOptions {\r\n    volume?: number;\r\n    loop?: boolean;\r\n    scale?: number;\r\n    delay?: IDelayParams;\r\n    useDelay?: boolean;\r\n}\r\n\r\n\r\nexport const defaultOptions: IOptions = {\r\n    volume: 1,\r\n    loop: false,\r\n    scale: 1,\r\n    delay: defaultDelayParams,\r\n    useDelay: false\r\n}\r\n\r\n\r\n\r\n\r\nenum ActionFuncsName {\r\n    play = 'play',\r\n    stop = 'stop',\r\n    restart = 'restart',\r\n    pause = 'pause'\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport default class Mixer extends AbstractMixer{\r\n    //すべてのContainerは音をinputNodeから取り込み、gainNodeから排出していくことにする。\r\n    protected _cxt: AudioContext = Master.cxt;\r\n    \r\n    protected _inputNode: AudioNode = Master.cxt.createGain();\r\n    protected _outputNode: AudioNode = Master.cxt.createGain();\r\n    protected _gainNode: GainNode = Master.cxt.createGain();\r\n    \r\n    private _delay: Delay;\r\n    private _panner: Panner;\r\n\r\n\r\n    private _volume: number = defaultOptions.volume!;\r\n    protected _scale: number = defaultOptions.scale!;\r\n    private _delaying: boolean;\r\n\r\n    private _position: number = 0;\r\n    set position(value: number){\r\n        this._position = value;\r\n    }\r\n    get position(): number{\r\n        return this._position;\r\n    }\r\n\r\n    readonly children: Mixer[] = [];\r\n    protected actionFuncs: ActionFuncs = {play: this.playFunc, stop: this.stopFunc, restart: this.restartFunc, pause: this.pauseFunc};\r\n    parent: Mixer | undefined;\r\n    \r\n    constructor(options?: IOptions){\r\n        super();\r\n\r\n        if(!options) options = defaultOptions;\r\n\r\n        this._panner = new Panner(0, 0, 0);\r\n        this._delay = new Delay(this._inputNode, options.delay || defaultOptions.delay!);\r\n\r\n        this.volume = options.volume || defaultOptions.volume!;\r\n        this.scale = options.scale || defaultOptions.scale!;\r\n        this._delaying = options.useDelay || defaultOptions.useDelay!;\r\n\r\n        this._inputNode.connect(this._panner.node);\r\n        this._panner.connect(this._gainNode);\r\n        this._gainNode.connect(this._outputNode);\r\n        \r\n\r\n        if(options.useDelay){\r\n            this.useDelay();\r\n        }\r\n\r\n\r\n\r\n    }\r\n    protected useDelay(){\r\n        this._delaying = true;\r\n        this._delay.connect(this._gainNode);\r\n    }\r\n    protected unuseDelay(){\r\n        this._delaying = false;\r\n        this._delay.disconnect();\r\n    }\r\n    get delay(): Delay{\r\n        return this._delay;\r\n    }\r\n    get delaying(): boolean{\r\n        return this._delaying;\r\n    }\r\n\r\n    addChildren(...ary: Mixer[]){\r\n        for(let i=0, len=ary.length;i<len;i++){\r\n            this.addChild(ary[i]);\r\n        }\r\n    }\r\n    addChild(obj: Mixer){\r\n        this.children.push(obj);\r\n        obj.connect(this._inputNode);\r\n        obj.parent = this;\r\n    }\r\n    protected connect(output: AudioNode){\r\n        this._outputNode.connect(output);\r\n    }\r\n\r\n    private _makeAllChildrenDo(funcName: ActionFuncsName){\r\n        const children = this.children;\r\n        for(let i=0, len=children.length;i<len;i++){\r\n            children[i].actionFuncs[funcName]();\r\n        }\r\n    }\r\n    play(){\r\n        this.playFunc();\r\n        this._makeAllChildrenDo(ActionFuncsName.play);\r\n    }\r\n    stop(){\r\n        this.stopFunc();\r\n        this._makeAllChildrenDo(ActionFuncsName.stop);\r\n    }\r\n    pause(){\r\n        this.pauseFunc();\r\n        this._makeAllChildrenDo(ActionFuncsName.pause);\r\n    }\r\n    restart(){\r\n        this.restartFunc();\r\n        this._makeAllChildrenDo(ActionFuncsName.restart);\r\n    }\r\n    playFunc: Function = ()=>{};\r\n    stopFunc: Function = ()=>{};\r\n    pauseFunc: Function = ()=>{};\r\n    restartFunc: Function = ()=>{};\r\n\r\n    set volume(value: number){\r\n        this._volume = value;\r\n        this._gainNode.gain.value = value;\r\n    }\r\n    get volume(): number{\r\n        return this._volume;\r\n    }\r\n    set scale(value: number) {\r\n        this._scale = value;\r\n        this._delay.realScale = this.realScale;\r\n    }\r\n    get scale(): number{\r\n        return this._scale;\r\n    }\r\n    get worldScale(): number{\r\n        if(this.parent){\r\n            return this.parent.worldScale*this.parent.scale;\r\n        } else {\r\n            return 1;\r\n        }\r\n    }\r\n    get realScale(): number{\r\n        return  this.worldScale*this.scale;\r\n    }\r\n    get worldPosition(): number{\r\n        if(this.parent){\r\n            return this.parent.worldPosition+this.parent.position*this.parent.worldScale;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n    get realPosition(): number{\r\n        return this.worldPosition + this.position*this.worldScale;\r\n    }\r\n\r\n    get panner(): Panner{\r\n        return this._panner;\r\n    }\r\n}\r\n\r\nexport class MasterMixer extends Mixer{\r\n    constructor(){\r\n        super();\r\n        this.connect(Master.cxt.destination);\r\n    }\r\n}","import Master from '../app/master';\r\nimport Audio from '../audio/audio';\r\n\r\nexport default class Processer{\r\n    private static _forAllChannels(buf: AudioBuffer, audio: AudioBuffer, \r\n                                    callback: (channel: Float32Array, data: Float32Array)=>void): AudioBuffer{\r\n        for(let i=0, len=buf.numberOfChannels;i<len;i++){\r\n            const channel = audio.getChannelData(i);\r\n            const data = buf.getChannelData(i);\r\n            callback(channel, data);\r\n        }\r\n        return audio;\r\n    }\r\n    private static _createSameSizedBuffer(buf: AudioBuffer): AudioBuffer{\r\n        return Master.cxt.createBuffer(buf.numberOfChannels, buf.length, buf.sampleRate);\r\n    }\r\n    static reverse(orig: Audio): Audio{\r\n        const buf = orig.buffer;\r\n        const audio = Processer._createSameSizedBuffer(buf);\r\n        return new Audio(Processer._forAllChannels(buf, audio, (channel, data)=>{\r\n            for(let j=0, len=buf.length;j<len;j++){\r\n                channel[j] = data[len-j];\r\n            }\r\n        }));\r\n    }\r\n    static trim(orig: Audio, start: number, end: number): Audio{//startとendの単位は秒\r\n        const buf = orig.buffer;\r\n        \r\n        const sampleRate = buf.sampleRate;\r\n        const trimmedLength = (end-start)*buf.sampleRate;\r\n\r\n        \r\n        const audio = Master.cxt.createBuffer(buf.numberOfChannels, trimmedLength, sampleRate);\r\n\r\n        return new Audio(Processer._forAllChannels(buf, audio, (channel, data)=>{\r\n            for(let j=0, len=trimmedLength;j<len;j++){\r\n                channel[j] = data[start*sampleRate + j];\r\n            }\r\n        }));\r\n    }\r\n    static raisePitch(orig: Audio, range: number, interval: number): Audio{\r\n        const buf = orig.buffer;\r\n        const audio = Master.cxt.createBuffer(buf.numberOfChannels,buf.length, buf.sampleRate);\r\n\r\n        return new Audio(Processer._forAllChannels(buf, audio, (channel, data)=>{\r\n            for(let i=0, len1=buf.length/range;i<len1;i++){\r\n                for(let j=0, len2=range;j<len2;j++){\r\n                    //元データarrayをrange個ごとに区切って、その中でinterval飛ばしでループさせる。\r\n                    channel[i*range + j] = data[Math.min(i*range + ((j*interval)|0)%range, buf.length-1)];\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    static lowerPitch(orig: Audio, range: number, interval: number): Audio{\r\n        const buf = orig.buffer;\r\n        const audio = Processer._createSameSizedBuffer(buf);\r\n\r\n        return new Audio(Processer._forAllChannels(buf, audio, (channel, data)=>{\r\n            for(let i=0, len1=buf.length/range;i<len1;i++){\r\n                for(let j=0, len2=range*interval;j<len2;j++){\r\n                    channel[i*range + j] = data[Math.min(i*range + ((j/interval)|0), buf.length-1)];\r\n                }\r\n            }\r\n\r\n        }));\r\n    }\r\n    static noise(orig: Audio, rate: number, volume: number, strength: number): Audio{\r\n        const buf = orig.buffer;\r\n        const audio = Processer._createSameSizedBuffer(buf);\r\n\r\n        return new Audio(Processer._forAllChannels(buf, audio, (channel, data)=>{\r\n            for(let j=0, len=buf.length;j<len;j++){\r\n                if(Math.random() > rate){\r\n                    channel[j] = data[j] + (Math.random()-0.5)*2*strength;\r\n                } else {\r\n                    channel[j] = volume * 2*(Math.random()-0.5);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    static blur(orig: Audio, strength: number): Audio{\r\n        const buf = orig.buffer;\r\n        const audio = Processer._createSameSizedBuffer(buf);\r\n        return new Audio(Processer._forAllChannels(buf, audio, (channel, data)=>{\r\n            for(let j=0, len=buf.length;j<len;j++){\r\n                let sum = 0;\r\n                const num = strength*2+1;\r\n                for(let k=0, len2=num;k<len2;k++){\r\n                    sum += data[Math.max(Math.min(j-strength + k, buf.length-1), 0)];\r\n                }\r\n                channel[j] = sum/(num);\r\n            }\r\n        }));\r\n    }\r\n}","import { IOptions, defaultOptions } from '../mixer/mixer';\r\n\r\ninterface ISoundOptions extends IOptions{\r\n    loop?: boolean;\r\n}\r\n\r\nconst defaultSoundOptions: ISoundOptions = Object.assign(defaultOptions, {loop: false});\r\n\r\nimport Container from '../mixer/mixer';\r\nimport Audio from '../audio/audio';\r\n\r\n\r\nexport default class Sound extends Container{\r\n    private _audio: Audio | undefined;\r\n    private _sourceNode: AudioBufferSourceNode | undefined | null;\r\n    private _duration: number = 0;\r\n    private _playedTime: number = 0;\r\n    private _startedTime: number = 0;\r\n    private _loop: boolean = false;\r\n    private _playing: boolean = false;\r\n    private _endTimer: NodeJS.Timeout | undefined;\r\n\r\n    \r\n    constructor(audio: Audio, options?: ISoundOptions){\r\n        \r\n        super(options);\r\n        this._audio = audio;\r\n        this._duration = audio.duration;\r\n\r\n        if(!options) options = defaultSoundOptions;\r\n\r\n        this.loop = options.loop || defaultSoundOptions.loop!;\r\n\r\n        this.actionFuncs = {play: this.playFunc, restart: this.restartFunc, stop: this.stopFunc, pause: this.pauseFunc};\r\n\r\n    }\r\n\r\n\r\n    set audio(audio: Audio){\r\n        this._audio = audio;\r\n        this._duration = audio.duration;\r\n    }\r\n\r\n    private _play(offset: number = 0){\r\n        if(!this._audio){\r\n            return;\r\n        }\r\n\r\n        const cxt = this._cxt;\r\n\r\n        this._sourceNode = cxt.createBufferSource()!;\r\n        this._sourceNode.buffer = this._audio.buffer;\r\n\r\n        this._sourceNode.loop = this._loop;\r\n        \r\n        const realScale = this.realScale;\r\n        const realPosition = this.realPosition;\r\n        this._sourceNode.playbackRate.value = 1/realScale;\r\n        \r\n\r\n        const sourceNode = this._sourceNode;\r\n\r\n        sourceNode.connect(this._inputNode);\r\n\r\n        const startTime = cxt.currentTime + this.realPosition;\r\n        sourceNode.start(startTime, offset);\r\n\r\n        \r\n        this._sourceNode = sourceNode;\r\n\r\n        this._startedTime =startTime;\r\n\r\n        this._playing = true;\r\n\r\n        \r\n        if(!this.loop) {\r\n            const endTime = 1000*(realPosition+this._duration*realScale);\r\n            setTimeout(this._disconnectSourceNode.bind(this), endTime, sourceNode);\r\n\r\n            if(this._endTimer) {\r\n                clearTimeout(this._endTimer);\r\n                this._endTimer = undefined;\r\n            }\r\n            this._endTimer = setTimeout(this._endThen.bind(this), endTime);\r\n        }\r\n    }\r\n\r\n    reStartFunc: Function = () => {\r\n        this._play(this._playedTime);\r\n    }\r\n    playFunc: Function = () => {\r\n        this._playedTime = 0;\r\n        this._play(0);\r\n    }\r\n    stopFunc: Function = () =>{\r\n        if(this._playing && this._sourceNode){\r\n            this._sourceNode.stop(0);\r\n            this._sourceNode.disconnect(0);\r\n            this._endThen();\r\n        }\r\n    }\r\n    pauseFunc: Function = () =>{\r\n        if(this._playing) {\r\n            this._playedTime = (this._playedTime + this._cxt!.currentTime - this._startedTime) % this._duration;\r\n            this._playing = false;\r\n            this._sourceNode!.stop(0);\r\n        }\r\n    }\r\n    private _disconnectSourceNode(sourceNode: AudioNode): void{\r\n        sourceNode!.disconnect(0);\r\n    }\r\n    private _endThen(): void{\r\n        this._playing = false;\r\n        this._playedTime = 0;\r\n        this._sourceNode = null;\r\n        this._endTimer = undefined;\r\n    }\r\n    get playing(): boolean{\r\n        return this._playing;\r\n    }\r\n    set loop(flag: boolean){\r\n        this._loop = flag;\r\n        if(this._sourceNode){\r\n            this._sourceNode.loop = flag;\r\n        }\r\n    }\r\n    get loop(): boolean{\r\n        return this._loop;\r\n    }\r\n}\r\n\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n",""],"names":[],"sourceRoot":""}